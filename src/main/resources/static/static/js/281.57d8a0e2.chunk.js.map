{"version":3,"file":"static/js/281.57d8a0e2.chunk.js","mappings":"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","sources":["components/admin/ManageBlogs.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faEdit,\r\n  faTrash,\r\n  faToggleOn,\r\n  faToggleOff,\r\n  faExclamationTriangle\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\"; // Importa la libreria styled-components\r\nimport './admin.css'; // Importa il file di stile\r\n\r\n// Stile per il link che appare come un pulsante\r\nconst ButtonLink = styled(Link)`\r\n  margin: 5px;\r\n  padding: 10px 15px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  display: inline-block;\r\n  text-decoration: none;\r\n  border: none;\r\n  background-color: ${(props) => props.bgColor || \"#007bff\"};\r\n  color: white;\r\n  border-radius: 8px;\r\n  text-align: center;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n\r\n  &:hover {\r\n    background-color: ${(props) => props.hoverColor || \"#0056b3\"};\r\n    transform: scale(1.05);\r\n    color: ${(props) => props.hoverTextColor || \"#ffffff\"};\r\n    font-weight: bold;\r\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(0.98);\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n`;\r\n\r\nconst Container = styled.section`\r\n  margin-top: 20px;\r\n  padding: 30px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  line-height: 1.6;\r\n`;\r\n\r\nconst Table = styled.table`\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 5px;\r\n  margin-top: 20px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  text-align: left;\r\n`;\r\n\r\nconst TableHead = styled.th`\r\n  background-color: #844bca;\r\n  color: white;\r\n  text-align: left;\r\n  padding: 16px 20px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  border-radius: 8px 8px 0 0;\r\n  letter-spacing: 0.5px;\r\n`;\r\n\r\nconst TableCell = styled.td`\r\n  padding: 14px 20px;\r\n  border-bottom: 1px solid #ddd;\r\n  color: #333;\r\n  font-size: 14px;\r\n  line-height: 1.4;\r\n  text-align: left;\r\n  word-wrap: break-word;\r\n  max-width: 200px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst ErrorMessage = styled.p`\r\n  color: red;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  line-height: 1.6;\r\n`;\r\n\r\nconst LoadingMessage = styled.div`\r\n  font-size: 18px;\r\n  color: #007bff;\r\n  text-align: center;\r\n  font-weight: 600;\r\n  line-height: 1.6;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  padding: 10px;\r\n  font-size: 16px;\r\n  border-radius: 8px;\r\n  border: 1px solid #ddd;\r\n  margin-bottom: 20px;\r\n  width: 100%;\r\n  max-width: 300px;\r\n  display: block;\r\n  margin: 10px auto;\r\n`;\r\n\r\nconst ManageBlogs = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const { t } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    const fetchBlogs = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await fetch(`http://localhost:8080/api/blogs`);\r\n        if (!response.ok) {\r\n          throw new Error(\"Impossibile recuperare i blog\");\r\n        }\r\n        const data = await response.json();\r\n        setBlogs(data);\r\n      } catch (error) {\r\n        setError(error.message);\r\n        console.error(\"Errore nel recuperare i blog:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchBlogs();\r\n  }, []);\r\n\r\n  const toggleActiveStatus = async (id, currentStatus) => {\r\n    try {\r\n      const response = await fetch(`http://localhost:8080/api/blogs/${id}/activate`, {\r\n        method: \"PUT\",\r\n      });\r\n  \r\n      if (!response.ok) {\r\n        throw new Error(\"Impossibile cambiare lo stato\");\r\n      }\r\n  \r\n      setBlogs((prevBlogs) =>\r\n        prevBlogs.map((blog) =>\r\n          blog.id === id ? { ...blog, active: !currentStatus } : blog,\r\n        ),\r\n      );\r\n  \r\n      setSuccessMessage(\"Stato cambiato con successo\");\r\n      setErrorMessage(null);\r\n    } catch (error) {\r\n      setErrorMessage(\"Errore nel cambiare lo stato\");\r\n      setSuccessMessage(null);\r\n      console.error(\"Errore:\", error);\r\n    }\r\n  };\r\n\r\n  async function sendEmailNotification(email, subject, message) {\r\n    try {\r\n      const response = await fetch('/api/send-email', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email, subject, message }),\r\n      });\r\n  \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || 'Errore nell\\'invio dell\\'email');\r\n      }\r\n  \r\n      const data = await response.json();\r\n      return data;\r\n    } catch (error) {\r\n      console.error('Errore nell\\'invio dell\\'email:', error);\r\n      throw new Error('Errore nell\\'invio dell\\'email: ' + error.message);\r\n    }\r\n  }\r\n\r\n  const deleteBlog = async (id) => {\r\n    try {\r\n      const response = await fetch(\r\n        `http://localhost:8080/api/blogs/${id}`,\r\n        {\r\n          method: \"DELETE\",\r\n        }\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Impossibile eliminare il blog\");\r\n      }\r\n      setBlogs(blogs.filter((blog) => blog.id !== id));\r\n    } catch (error) {\r\n      console.error(\"Errore nell'eliminare il blog:\", error);\r\n    }\r\n  };\r\n\r\n  const filteredBlogs = blogs.filter((blog) => {\r\n    const searchLowerCase = searchQuery.toLowerCase();\r\n    return (\r\n      blog.title.toLowerCase().includes(searchLowerCase) ||\r\n      blog.content.toLowerCase().includes(searchLowerCase) ||\r\n      blog.description.toLowerCase().includes(searchLowerCase) ||\r\n      blog.author.toLowerCase().includes(searchLowerCase) ||\r\n      blog.language.toLowerCase().includes(searchLowerCase) ||\r\n      (blog.image_path && blog.image_path.toLowerCase().includes(searchLowerCase)) ||\r\n      new Date(blog.createdAt).toLocaleDateString().includes(searchLowerCase) ||\r\n      blog.type.toLowerCase().includes(searchLowerCase)\r\n    );\r\n  });\r\n\r\n  if (loading) {\r\n    return <LoadingMessage>Caricamento blog...</LoadingMessage>;\r\n  }\r\n\r\n  return (\r\n    <Container aria-labelledby=\"manage-blogs-heading\">\r\n      <h2 id=\"manage-blogs-heading\" className=\"text-center my-4\">\r\n        {t(\"manageBlogs.mtitle\")}\r\n      </h2>\r\n      {error && (\r\n        <ErrorMessage>\r\n          <FontAwesomeIcon icon={faExclamationTriangle} />\r\n          {error}\r\n        </ErrorMessage>\r\n      )}\r\n      {successMessage && <ErrorMessage>{successMessage}</ErrorMessage>}\r\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n      <SearchInput\r\n        type=\"text\"\r\n        placeholder={t(\"manageBlogs.search\")}\r\n        value={searchQuery}\r\n        onChange={(e) => setSearchQuery(e.target.value)}\r\n      />\r\n      <div className=\"table-responsive\">\r\n        <Table>\r\n          <thead>\r\n            <tr>\r\n              <TableHead>{t(\"manageBlogs.id\")}</TableHead>\r\n              <TableHead>{t(\"manageBlogs.title\")}</TableHead>\r\n              <TableHead>{t(\"manageBlogs.content\")}</TableHead>\r\n              <TableHead>{t(\"manageBlogs.description\")}</TableHead>\r\n              <TableHead>{t(\"manageBlogs.author\")}</TableHead>\r\n              <TableHead>{t(\"manageBlogs.language\")}</TableHead>\r\n              <TableHead>{t(\"manageBlogs.imagePath\")}</TableHead>\r\n              <TableHead>{t(\"manageBlogs.createdAt\")}</TableHead>\r\n              <TableHead>{t(\"manageBlogs.type\")}</TableHead>\r\n              <TableHead>{t(\"manageBlogs.actions\")}</TableHead>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredBlogs.map((blog) => (\r\n              <tr key={blog.id}>\r\n                <TableCell>{blog.id}</TableCell>\r\n                <TableCell>{blog.title}</TableCell>\r\n                <TableCell>{blog.content}</TableCell>\r\n                <TableCell>{blog.description}</TableCell>\r\n                <TableCell>{blog.author}</TableCell>\r\n                <TableCell>{blog.language}</TableCell>\r\n                <TableCell>{blog.image_path}</TableCell>\r\n                <TableCell>{new Date(blog.createdAt).toLocaleDateString()}</TableCell>\r\n                <TableCell>{blog.type}</TableCell>\r\n                <TableCell>\r\n                  <ButtonLink\r\n                    to={`/admin/blogs/${blog.id}/edit`}\r\n                    bgColor=\"#28a745\"\r\n                    hoverColor=\"#218838\"\r\n                  >\r\n                    <FontAwesomeIcon icon={faEdit} />\r\n                  </ButtonLink>\r\n                  <ButtonLink\r\n                    onClick={() => deleteBlog(blog.id)}\r\n                    bgColor=\"#dc3545\"\r\n                    hoverColor=\"#c82333\"\r\n                  >\r\n                    <FontAwesomeIcon icon={faTrash} />\r\n                  </ButtonLink>\r\n                  <ButtonLink\r\n                    onClick={() => toggleActiveStatus(blog.id, blog.active)}\r\n                    bgColor={blog.active ? \"#28a745\" : \"#ffc107\"}\r\n                    hoverColor={blog.active ? \"#218838\" : \"#e0a800\"}\r\n                  >\r\n                    <FontAwesomeIcon\r\n                      icon={blog.active ? faToggleOn : faToggleOff}\r\n                    />\r\n                  </ButtonLink>\r\n                </TableCell>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ManageBlogs;\r\n"],"names":["ButtonLink","styled","Link","_templateObject","_taggedTemplateLiteral","props","bgColor","hoverColor","hoverTextColor","Container","section","_templateObject2","Table","table","_templateObject3","TableHead","th","_templateObject4","TableCell","td","_templateObject5","ErrorMessage","p","_templateObject6","LoadingMessage","div","_templateObject7","SearchInput","input","_templateObject8","ManageBlogs","blogs","setBlogs","useState","error","setError","loading","setLoading","searchQuery","setSearchQuery","successMessage","setSuccessMessage","errorMessage","setErrorMessage","t","useTranslation","useEffect","async","response","fetch","ok","Error","data","json","message","console","fetchBlogs","filteredBlogs","filter","blog","searchLowerCase","toLowerCase","title","includes","content","description","author","language","image_path","Date","createdAt","toLocaleDateString","type","_jsx","children","_jsxs","id","className","FontAwesomeIcon","icon","faExclamationTriangle","placeholder","value","onChange","e","target","map","to","concat","faEdit","onClick","method","deleteBlog","faTrash","currentStatus","prevBlogs","_objectSpread","active","toggleActiveStatus","faToggleOn","faToggleOff"],"sourceRoot":""}