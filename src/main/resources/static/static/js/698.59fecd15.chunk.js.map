{"version":3,"file":"static/js/698.59fecd15.chunk.js","mappings":"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","sources":["components/admin/Statistics.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Row, Col, Card, Spinner } from \"react-bootstrap\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from \"chart.js\";\r\n\r\n// تسجيل المكونات في Chart.js\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\r\n\r\nconst Statistics = () => {\r\n  const [blogsCount, setBlogsCount] = useState(0);\r\n  const [projectsCount, setProjectsCount] = useState(0);\r\n  const [newsCount, setNewsCount] = useState(0); // عدد المقالات الإخبارية\r\n  const [loading, setLoading] = useState(true); // حالة التحميل\r\n\r\n  // بيانات الرسم البياني\r\n  const chartData = {\r\n    labels: [\"Dom\", \"Lun\", \"Mar\", \"Mer\", \"Gio\", \"Ven\", \"Sab\"], // الأيام بالإيطالية\r\n    datasets: [\r\n      {\r\n        label: \"Numero di blog\",\r\n        data: [blogsCount, blogsCount + 3, blogsCount + 5, blogsCount + 7, blogsCount + 9, blogsCount + 10, blogsCount + 12],\r\n        borderColor: \"rgba(75, 192, 192, 1)\",\r\n        backgroundColor: \"rgba(75, 192, 192, 0.2)\",\r\n        fill: true,\r\n        tension: 0.4, // تأثير انحناء في الخطوط\r\n      },\r\n      {\r\n        label: \"Numero di progetti\",\r\n        data: [projectsCount, projectsCount + 2, projectsCount + 4, projectsCount + 8, projectsCount + 10, projectsCount + 11, projectsCount + 13],\r\n        borderColor: \"rgba(153, 102, 255, 1)\",\r\n        backgroundColor: \"rgba(153, 102, 255, 0.2)\",\r\n        fill: true,\r\n        tension: 0.4,\r\n      },\r\n      {\r\n        label: \"Numero di articoli di notizie\",\r\n        data: [newsCount, newsCount + 1, newsCount + 3, newsCount + 6, newsCount + 8, newsCount + 9, newsCount + 12],\r\n        borderColor: \"rgba(255, 159, 64, 1)\",\r\n        backgroundColor: \"rgba(255, 159, 64, 0.2)\",\r\n        fill: true,\r\n        tension: 0.4,\r\n      },\r\n    ],\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchCounts = async () => {\r\n      try {\r\n        setLoading(true); // بدء التحميل\r\n        const blogsResponse = await axios.get(\"http://localhost:8080/api/blogs/count/blog\");\r\n        setBlogsCount(blogsResponse.data);\r\n\r\n        const projectsResponse = await axios.get(\"http://localhost:8080/api/blogs/count/project\");\r\n        setProjectsCount(projectsResponse.data);\r\n\r\n        const newsResponse = await axios.get(\"http://localhost:8080/api/blogs/count/new\");\r\n        setNewsCount(newsResponse.data);\r\n      } catch (error) {\r\n        console.error(\"Errore nel recupero dei conteggi:\", error);\r\n      } finally {\r\n        setLoading(false); // إيقاف التحميل\r\n      }\r\n    };\r\n\r\n    fetchCounts();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container my-5\">\r\n      <h1 className=\"text-center mb-4\">Statistiche del sito</h1>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center\">\r\n          <Spinner animation=\"border\" variant=\"primary\" />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <Row>\r\n            {/* الكارت الخاص بالمدونات */}\r\n            <Col md={4}>\r\n              <Card className=\"mb-4 shadow-lg\">\r\n                <Card.Body>\r\n                  <Card.Title>Blog pubblicati</Card.Title>\r\n                  <Card.Text>Numero di blog pubblicati: <strong>{blogsCount}</strong></Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n\r\n            {/* الكارت الخاص بالمشاريع */}\r\n            <Col md={4}>\r\n              <Card className=\"mb-4 shadow-lg\">\r\n                <Card.Body>\r\n                  <Card.Title>Progetti pubblicati</Card.Title>\r\n                  <Card.Text>Numero di progetti pubblicati: <strong>{projectsCount}</strong></Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n\r\n            {/* الكارت الخاص بالمقالات الإخبارية */}\r\n            <Col md={4}>\r\n              <Card className=\"mb-4 shadow-lg\">\r\n                <Card.Body>\r\n                  <Card.Title>Articoli di notizie</Card.Title>\r\n                  <Card.Text>Numero di articoli di notizie pubblicati: <strong>{newsCount}</strong></Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n\r\n          {/* الرسم البياني */}\r\n          <Row className=\"mt-4\">\r\n            <Col>\r\n              <Card>\r\n                <Card.Body>\r\n                  <Card.Title>Statistiche del sito per la settimana</Card.Title>\r\n                  <Line data={chartData} options={{\r\n                    responsive: true,\r\n                    plugins: {\r\n                      legend: {\r\n                        position: 'top',\r\n                        labels: {\r\n                          font: {\r\n                            size: 14,\r\n                          },\r\n                        },\r\n                      },\r\n                    },\r\n                  }} />\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Statistics;\r\n"],"names":["ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Statistics","blogsCount","setBlogsCount","useState","projectsCount","setProjectsCount","newsCount","setNewsCount","loading","setLoading","chartData","labels","datasets","label","data","borderColor","backgroundColor","fill","tension","useEffect","async","blogsResponse","axios","get","projectsResponse","newsResponse","error","console","fetchCounts","_jsxs","className","children","_jsx","Spinner","animation","variant","_Fragment","Row","Col","md","Card","Body","Text","Line","options","responsive","plugins","legend","position","font","size"],"sourceRoot":""}