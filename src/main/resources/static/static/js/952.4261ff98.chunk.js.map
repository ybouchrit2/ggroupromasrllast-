{"version":3,"file":"static/js/952.4261ff98.chunk.js","mappings":"uMAMA,MAoHA,EApHsBA,KACpB,MAAM,QAAEC,IAAYC,EAAAA,EAAAA,KACdC,GAAWC,EAAAA,EAAAA,OAEVC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,KACpCC,EAAkBC,IAAuBF,EAAAA,EAAAA,UAAS,KAClDG,EAAuBC,IAA4BJ,EAAAA,EAAAA,UAAS,IAC5DK,EAAOC,IAAYN,EAAAA,EAAAA,UAAS,KAC5BO,EAASC,IAAcR,EAAAA,EAAAA,WAAS,IAGvCS,EAAAA,EAAAA,YAAU,KACR,GAAIf,EAAS,CACX,MAAMgB,EAAaC,UACjB,IACE,MACMC,SADiBC,EAAAA,EAAMC,IAAI,oCAADC,OAAqCrB,KAC9CsB,KACvBjB,EAAaa,EAAMd,WACnBI,EAAoBU,EAAMX,kBAC1BG,EAAyBQ,EAAMT,sBACjC,CAAE,MAAOE,GACPC,EAAS,mJACTW,QAAQZ,MAAMA,EAChB,GAEFK,GACF,IACC,CAAChB,IAyCJ,OACEwB,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAKzB,EAAU,4EAAkB,kEAChCa,IAAWa,EAAAA,EAAAA,KAACC,EAAAA,EAAK,CAACC,QAAQ,UAASH,SAAEzB,EAAU,yHAA4B,2HAC3EW,IAASe,EAAAA,EAAAA,KAACC,EAAAA,EAAK,CAACC,QAAQ,SAAQH,SAAEd,KAEnCa,EAAAA,EAAAA,MAACK,EAAAA,EAAI,CAACC,SA7CWb,UAInB,GAHAc,EAAEC,kBAGG5B,IAAcG,GAAoBE,EAAwB,GAAKA,EAAwB,IAC1FG,EAAS,qKAIX,IACE,MAAMqB,EAAW,CACf7B,YACAG,mBACAE,yBAGET,SAEImB,EAAAA,EAAMe,IAAI,oCAADb,OAAqCrB,GAAWiC,GAC/DnB,GAAW,GACXF,EAAS,YAGHO,EAAAA,EAAMgB,KAAK,mCAAoCF,GACrDnB,GAAW,GACXF,EAAS,KAIXwB,YAAW,KACTlC,EAAS,UAAU,GAClB,KAEL,CAAE,MAAOS,GACPC,EAAS,6IACTW,QAAQZ,MAAMA,EAChB,GAS+Bc,SAAA,EAC3BD,EAAAA,EAAAA,MAACK,EAAAA,EAAKQ,MAAK,CAACC,UAAU,gBAAeb,SAAA,EACnCC,EAAAA,EAAAA,KAACG,EAAAA,EAAKU,MAAK,CAAAd,SAAC,mEACZC,EAAAA,EAAAA,KAACG,EAAAA,EAAKW,QAAO,CACXC,KAAK,OACLC,YAAY,yFACZC,MAAOvC,EACPwC,SAAWb,GAAM1B,EAAa0B,EAAEc,OAAOF,aAI3CnB,EAAAA,EAAAA,MAACK,EAAAA,EAAKQ,MAAK,CAACC,UAAU,uBAAsBb,SAAA,EAC1CC,EAAAA,EAAAA,KAACG,EAAAA,EAAKU,MAAK,CAAAd,SAAC,mEACZC,EAAAA,EAAAA,KAACG,EAAAA,EAAKW,QAAO,CACXM,GAAG,WACHC,KAAM,EACNL,YAAY,yFACZC,MAAOpC,EACPqC,SAAWb,GAAMvB,EAAoBuB,EAAEc,OAAOF,aAIlDnB,EAAAA,EAAAA,MAACK,EAAAA,EAAKQ,MAAK,CAACC,UAAU,4BAA2Bb,SAAA,EAC/CC,EAAAA,EAAAA,KAACG,EAAAA,EAAKU,MAAK,CAAAd,SAAC,oDACZC,EAAAA,EAAAA,KAACG,EAAAA,EAAKW,QAAO,CACXC,KAAK,SACLC,YAAY,+FACZC,MAAOlC,EACPmC,SAAWb,GAAMrB,EAAyBqB,EAAEc,OAAOF,OACnDK,IAAI,IACJC,IAAI,YAIRvB,EAAAA,EAAAA,KAACwB,EAAAA,EAAM,CAACtB,QAAQ,UAAUa,KAAK,SAAQhB,SACpCzB,EAAU,4EAAkB,mFAG7B,C","sources":["components/admin/AddEditSkills.js"],"sourcesContent":["// src/components/admin/AddEditSkills.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Form, Button, Alert } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';  // استخدم useNavigate هنا\r\n\r\nconst AddEditSkills = () => {\r\n  const { skillId } = useParams(); // الحصول على الـ ID من الرابط\r\n  const navigate = useNavigate();  // استخدم useNavigate هنا بدلاً من useHistory\r\n\r\n  const [skillName, setSkillName] = useState('');\r\n  const [skillDescription, setSkillDescription] = useState('');\r\n  const [proficiencyPercentage, setProficiencyPercentage] = useState(0);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  // إذا كان هناك `skillId` في الرابط، نقوم بتحميل البيانات لتعديلها\r\n  useEffect(() => {\r\n    if (skillId) {\r\n      const fetchSkill = async () => {\r\n        try {\r\n          const response = await axios.get(`http://localhost:8080/api/skills/${skillId}`);\r\n          const skill = response.data;\r\n          setSkillName(skill.skillName);\r\n          setSkillDescription(skill.skillDescription);\r\n          setProficiencyPercentage(skill.proficiencyPercentage);\r\n        } catch (error) {\r\n          setError('حدث خطأ أثناء تحميل المهارة.');\r\n          console.error(error);\r\n        }\r\n      };\r\n      fetchSkill();\r\n    }\r\n  }, [skillId]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // التحقق من الحقول المطلوبة\r\n    if (!skillName || !skillDescription || proficiencyPercentage < 0 || proficiencyPercentage > 100) {\r\n      setError('يرجى ملء جميع الحقول بشكل صحيح.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const newSkill = {\r\n        skillName,\r\n        skillDescription,\r\n        proficiencyPercentage,\r\n      };\r\n\r\n      if (skillId) {\r\n        // تعديل المهارة إذا كان الـ ID موجودًا\r\n        await axios.put(`http://localhost:8080/api/skills/${skillId}`, newSkill);\r\n        setSuccess(true);\r\n        setError('');\r\n      } else {\r\n        // إضافة مهارة جديدة إذا لم يكن الـ ID موجودًا\r\n        await axios.post('http://localhost:8080/api/skills', newSkill);\r\n        setSuccess(true);\r\n        setError('');\r\n      }\r\n\r\n      // بعد النجاح، إعادة التوجيه إلى قائمة المهارات\r\n      setTimeout(() => {\r\n        navigate('/skills');  // استخدم navigate بدلاً من history.push\r\n      }, 1500);\r\n\r\n    } catch (error) {\r\n      setError('حدث خطأ أثناء حفظ البيانات.');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>{skillId ? 'تعديل المهارة' : 'إضافة مهارة'}</h3>\r\n      {success && <Alert variant=\"success\">{skillId ? 'تم تعديل المهارة بنجاح!' : 'تم إضافة المهارة بنجاح!'}</Alert>}\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Group controlId=\"formSkillName\">\r\n          <Form.Label>اسم المهارة</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"أدخل اسم المهارة\"\r\n            value={skillName}\r\n            onChange={(e) => setSkillName(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formSkillDescription\">\r\n          <Form.Label>وصف المهارة</Form.Label>\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows={3}\r\n            placeholder=\"أدخل وصف المهارة\"\r\n            value={skillDescription}\r\n            onChange={(e) => setSkillDescription(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formProficiencyPercentage\">\r\n          <Form.Label>الإتقان (%)</Form.Label>\r\n          <Form.Control\r\n            type=\"number\"\r\n            placeholder=\"أدخل نسبة الإتقان\"\r\n            value={proficiencyPercentage}\r\n            onChange={(e) => setProficiencyPercentage(e.target.value)}\r\n            min=\"0\"\r\n            max=\"100\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          {skillId ? 'تعديل المهارة' : 'إضافة المهارة'}\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddEditSkills;\r\n"],"names":["AddEditSkills","skillId","useParams","navigate","useNavigate","skillName","setSkillName","useState","skillDescription","setSkillDescription","proficiencyPercentage","setProficiencyPercentage","error","setError","success","setSuccess","useEffect","fetchSkill","async","skill","axios","get","concat","data","console","_jsxs","children","_jsx","Alert","variant","Form","onSubmit","e","preventDefault","newSkill","put","post","setTimeout","Group","controlId","Label","Control","type","placeholder","value","onChange","target","as","rows","min","max","Button"],"sourceRoot":""}